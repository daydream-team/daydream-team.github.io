$(document).ready(function(){var o=function(){var o,s,t=$(document).width(),e=$(document).height(),a=$("<canvas>").appendTo("#hero")[0],n=a.getContext("2d"),p={size:.15*Math.min(t,e),triangles:[]};return o=function(o,s){var t={pos:{},to:{}},e=~~(2*Math.random());return t.pos.x1=o.pos.x2||4*-p.size,t.pos.y1=o.pos.y2||4*-p.size,t.pos.x2=o.pos.x3||Math.random()*p.size+t.pos.x1*(e&&o.pos.x2?-1:1),t.pos.y2=o.pos.y3||Math.random()*p.size+t.pos.y1*(e&&o.pos.y2?-1:1),t.pos.x3=Math.random()*p.size+t.pos.x2,t.pos.y3=Math.random()*p.size+t.pos.y2*(s?-.25:.25),t.to.x1=t.pos.x1,t.to.y1=t.pos.y1,t.to.x2=t.pos.x2,t.to.y2=t.pos.y2,t.to.x3=t.pos.x3,t.to.y3=t.pos.y3,t},s=function(o){n.beginPath(),n.moveTo(o.pos.x1,o.pos.y1+e/2),n.lineTo(o.pos.x2,o.pos.y2+e/2),n.lineTo(o.pos.x3,o.pos.y3+e/2),n.closePath()},p.create=function(){var s=o({pos:{},to:{}}),a=Math.max(s.pos.x1,s.pos.y1,s.pos.x2,s.pos.y2,s.pos.x3,s.pos.y3),n=0;for(p.triangles.push(s),p.hue=(360*Math.random()).toFixed(0),p.backgroundHue=p.hue;a<Math.max(t,e)+4*p.size;){var i=Object.create(s);s=o(i,n%2==0),a=Math.max(s.pos.x1,s.pos.y1,s.pos.x2,s.pos.y2,s.pos.x3,s.pos.y3),p.triangles.push(s),n++}return p},p.draw=function(){n.clearRect(0,0,t,e);for(var o in p.triangles)s(p.triangles[o]),n.fillStyle="hsla(0, 0%, "+p.hue/4+"%, .75)",n.fill();return p},p.animate=function(){return setInterval(function(){for(var o in p.triangles){var s=p.triangles[o],t=.15*Math.random();p.hue<0&&p.hue>360?p.hue+=.01:p.hue-=.01,o>0&&o<p.triangles.length&&(s.pos.x1<=s.to.x1+.15&&s.pos.x1>=s.to.x1-.15&&(s.to.x1=Math.random()*p.size*(~~(2*Math.random())?-1:1)+s.pos.x1),s.pos.y1<=s.to.y1+.15&&s.pos.y1>=s.to.y1-.15&&(s.to.y1=Math.random()*p.size*(~~(2*Math.random())?-1:1)+s.pos.y1),s.to.x1=Math.min(.15*p.size+s.pos.x1,Math.max(.15*-p.size-s.pos.x1,s.to.x1)),s.to.y1=Math.min(.15*p.size+s.pos.y1,Math.max(.15*-p.size-s.pos.y1,s.to.y1)),s.pos.x1+=t*(s.pos.x1<s.to.x1?1:-1),s.pos.y1+=t*(s.pos.y1<s.to.y1?1:-1),s.pos.x1=Math.min(Math.max(s.pos.x1,-p.size-s.pos.x1),p.size+s.pos.x1),s.pos.y1=Math.min(Math.max(s.pos.y1,-p.size-s.pos.y1),p.size+s.pos.y1),s.pos.x2=p.triangles[o-1].pos.x3,s.pos.y2=p.triangles[o-1].pos.y3,s.pos.x3=p.triangles[o-1].pos.x1,s.pos.y3=p.triangles[o-1].pos.y1)}p.backgroundHue<0&&p.backgroundHue>360?p.backgroundHue+=.01:p.backgroundHue-=.01,p.draw()},1e3/30),p},p.destroy=function(){$(a).remove()},a.width=t,a.height=e,$("body").resize(function(){a.width=t,a.height=e,p.create()}),p},s=(new o).create().animate();$(document).on("click",function(){s.destroy(),s=(new o).create().animate()}).click()});